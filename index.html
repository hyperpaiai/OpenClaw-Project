<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🐴 马年大吉 · 新春抽奖 🧧</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 背景动画 -->
    <div class="bg-animation">
        <div class="lantern lantern-1">🏮</div>
        <div class="lantern lantern-2">🏮</div>
        <div class="lantern lantern-3">🏮</div>
        <div class="lantern lantern-4">🏮</div>
        <div class="horse horse-1">🐴</div>
        <div class="horse horse-2">🐴</div>
        <div class="firework"></div>
        <div class="firework"></div>
        <div class="firework"></div>
    </div>

    <!-- 主容器 -->
    <div class="container">
        <!-- 首页 -->
        <div id="home-page" class="page active">
            <div class="title-section">
                <h1 class="main-title">🐴 马年大吉 🐴</h1>
                <h2 class="sub-title">新春抽奖盛典</h2>
                <p class="year-text">2026 丙午马年</p>
            </div>
            <div class="menu-buttons">
                <button class="btn btn-primary" onclick="showPage('settings')">
                    <span class="icon">⚙️</span> 设置管理
                </button>
                <button class="btn btn-success" onclick="showPage('lottery')">
                    <span class="icon">🎁</span> 开始抽奖
                </button>
                <button class="btn btn-warning" onclick="showPage('results')">
                    <span class="icon">📋</span> 中奖名单
                </button>
                <button class="btn btn-guest" onclick="showPage('guest-lottery')">
                    <span class="icon">🎊</span> 嘉宾赞助
                </button>
            </div>
        </div>

        <!-- 设置页面 -->
        <div id="settings-page" class="page">
            <div class="page-header">
                <h2>⚙️ 设置管理</h2>
                <button class="btn btn-back" onclick="showPage('home')">← 返回</button>
            </div>
            
            <div class="settings-tabs">
                <button class="tab-btn active" onclick="switchTab('participants')">👥 参与人员</button>
                <button class="tab-btn" onclick="switchTab('awards')">🏆 奖项设置</button>
            </div>

            <!-- 参与人员管理 -->
            <div id="participants-tab" class="tab-content active">
                <div class="section">
                    <h3>添加参与人员</h3>
                    <div class="form-row">
                        <input type="text" id="p-name" placeholder="姓名" maxlength="10">
                        <select id="p-gender">
                            <option value="male">👦 男</option>
                            <option value="female">👧 女</option>
                        </select>
                        <input type="text" id="p-blessing" placeholder="拜年祝福语" maxlength="50">
                        <button class="btn btn-small" onclick="generateAvatar()">🎨 生成头像</button>
                    </div>
                    <div class="avatar-preview" id="avatar-preview"></div>
                    <button class="btn btn-primary" onclick="addParticipant()">➕ 添加人员</button>
                </div>
                
                <div class="section">
                    <h3>参与人员列表（<span id="p-count">0</span>人）</h3>
                    <div class="participants-grid" id="participants-list"></div>
                </div>
            </div>

            <!-- 奖项设置 -->
            <div id="awards-tab" class="tab-content">
                <div class="awards-config">
                    <div class="award-card" data-level="3">
                        <div class="award-header">
                            <span class="award-icon">🥉</span>
                            <h4>三等奖</h4>
                        </div>
                        <div class="award-form">
                            <label>中奖人数：<input type="number" id="award3-count" min="1" value="5"></label>
                            <label>奖金金额：<input type="text" id="award3-amount" placeholder="如：¥100" value="¥100"></label>
                            <label>祝福语：<input type="text" id="award3-blessing" placeholder="奖项祝福语" value="恭喜发财，马到成功！"></label>
                        </div>
                    </div>
                    
                    <div class="award-card" data-level="2">
                        <div class="award-header">
                            <span class="award-icon">🥈</span>
                            <h4>二等奖</h4>
                        </div>
                        <div class="award-form">
                            <label>中奖人数：<input type="number" id="award2-count" min="1" value="3"></label>
                            <label>奖金金额：<input type="text" id="award2-amount" placeholder="如：¥300" value="¥300"></label>
                            <label>祝福语：<input type="text" id="award2-blessing" placeholder="奖项祝福语" value="龙马精神，步步高升！"></label>
                        </div>
                    </div>
                    
                    <div class="award-card" data-level="1">
                        <div class="award-header">
                            <span class="award-icon">🥇</span>
                            <h4>一等奖</h4>
                        </div>
                        <div class="award-form">
                            <label>中奖人数：<input type="number" id="award1-count" min="1" value="2"></label>
                            <label>奖金金额：<input type="text" id="award1-amount" placeholder="如：¥500" value="¥500"></label>
                            <label>祝福语：<input type="text" id="award1-blessing" placeholder="奖项祝福语" value="一马当先，前程似锦！"></label>
                        </div>
                    </div>
                    
                    <div class="award-card special" data-level="0">
                        <div class="award-header">
                            <span class="award-icon">👑</span>
                            <h4>特等奖</h4>
                        </div>
                        <div class="award-form">
                            <label>中奖人数：<input type="number" id="award0-count" min="1" value="1"></label>
                            <label>奖金金额：<input type="text" id="award0-amount" placeholder="如：¥1000" value="¥1000"></label>
                            <label>祝福语：<input type="text" id="award0-blessing" placeholder="奖项祝福语" value="马到功成，万事如意！"></label>
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary btn-save" onclick="saveAwards()">💾 保存奖项设置</button>
            </div>
        </div>

        <!-- 抽奖页面 -->
        <div id="lottery-page" class="page">
            <div class="page-header">
                <h2>🎁 新春抽奖</h2>
                <button class="btn btn-back" onclick="showPage('home')">← 返回</button>
            </div>

            <div class="lottery-container">
                <div class="current-award" id="current-award">
                    <div class="award-display">点击开始抽奖</div>
                </div>

                <div class="rolling-area" id="rolling-area">
                    <div class="rolling-names" id="rolling-names">准备就绪</div>
                </div>

                <div class="lottery-controls">
                    <button class="btn btn-lottery" id="start-btn" onclick="startLottery()">🎯 开始抽奖</button>
                    <button class="btn btn-stop" id="stop-btn" onclick="stopLottery()" style="display:none;">🛑 停止</button>
                </div>

                <div class="winners-display" id="winners-display"></div>

                <div class="lottery-progress">
                    <h4>抽奖进度</h4>
                    <div class="progress-list" id="progress-list"></div>
                </div>
            </div>
        </div>

        <!-- 中奖名单页面 -->
        <div id="results-page" class="page">
            <div class="page-header">
                <h2>📋 中奖名单</h2>
                <button class="btn btn-back" onclick="showPage('home')">← 返回</button>
            </div>

            <div class="results-container" id="results-container">
                <div class="empty-state">暂无中奖记录</div>
            </div>

            <div class="big-screen-btn">
                <button class="btn btn-primary" onclick="showBigScreen()">🖥️ 大屏幕展示</button>
            </div>
        </div>

        <!-- 大屏幕展示 -->
        <div id="big-screen-page" class="page big-screen">
            <div class="big-screen-content">
                <h1 class="big-title">🐴 马年幸运儿 🐴</h1>
                <div class="big-winners" id="big-winners"></div>
                <div class="big-blessing" id="big-blessing">新春快乐 · 万事如意</div>
            </div>
            <button class="btn btn-exit-big" onclick="showPage('results')">✕ 退出大屏</button>
        </div>

        <!-- 嘉宾赞助抽奖 -->
        <div id="guest-lottery-page" class="page">
            <div class="page-header">
                <h2>🎊 嘉宾赞助抽奖</h2>
                <button class="btn btn-back" onclick="showPage('home')">← 返回</button>
            </div>

            <div class="guest-section">
                <div class="guest-config">
                    <h3>设置本轮赞助</h3>
                    <div class="form-group">
                        <label>赞助金额：<input type="text" id="guest-amount" placeholder="如：¥888"></label>
                        <label>赞助嘉宾：<input type="text" id="guest-name" placeholder="嘉宾姓名"></label>
                        <label>祝福语：<input type="text" id="guest-blessing" placeholder="嘉宾祝福语"></label>
                        <label>中奖人数：<input type="number" id="guest-count" min="1" value="1"></label>
                    </div>
                    <button class="btn btn-primary" onclick="startGuestLottery()">🎲 开始本轮抽奖</button>
                </div>

                <div class="guest-history">
                    <h3>赞助抽奖历史</h3>
                    <div id="guest-history-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- 中奖弹窗 -->
    <div id="winner-modal" class="modal">
        <div class="modal-content winner-content">
            <div class="confetti"></div>
            <h2 class="winner-title">🎉 恭喜中奖 🎉</h2>
            <div class="winner-avatar" id="modal-avatar"></div>
            <div class="winner-name" id="modal-name"></div>
            <div class="winner-award" id="modal-award"></div>
            <div class="winner-amount" id="modal-amount"></div>
            <div class="winner-blessing" id="modal-blessing"></div>
            <button class="btn btn-primary" onclick="closeModal()">继续</button>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
